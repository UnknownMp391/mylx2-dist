import{A as x,r as a,o as k,z as w,g as v,h as c,j as h,u as s,i as t,K as p,x as r,D as $,F as C,E as I}from"./vendor-DHGCqLyH.js";import{u as L,m as N,b as j}from"./index-BvAo4jYu.js";import{_ as z}from"./ProfileCard-DbetDmHs.js";import{a as A}from"./homePage-BLQsmEBP.js";const E={key:0},V={style:{margin:"0px"}},M={class:"toolbar"},T={trigger:"contextmenu"},F={__name:"Me",setup(U){const l=L(),o=x();A();const e=a(!1);var d=a("");const n=a("/favicon.png"),m=a(!1);function g(){e&&!l.isLogin&&o.push("/login")}async function y(){I({headline:"确认",description:"你确定要退出登录吗",confirmText:"退!",cancelText:"算了",closeOnOverlayClick:!0,closeOnEsc:!0,onConfirm:async()=>{(await l.accountLogout()).code==1&&(j("退出成功"),o.replace({path:"/"}),l.reInit(),f())}})}async function f(){e.value=!1,m.value=l.isLogin,l.isLogin?(l.accountInfo.avatar?n.value=`${l.config.ossEndpoint}/${l.config.accountInfo.avatar}`:n.value=`${l.config.ossEndpoint}/${l.config.defaultAvatarID}`,d.value=l.config.accountInfo.nickName):(d.value="点击登录",n.value=`${l.config.ossEndpoint}/${l.config.defaultAvatarID}`),e.value=!0}return k(async()=>{await f(),w(async()=>{window.scrollTo(0,0)})}),(b,i)=>(v(),c(C,null,[h(z,{name:s(d),avatarUrl:n.value,loading:!e.value,onClick:i[0]||(i[0]=u=>g())},null,8,["name","avatarUrl","loading"]),m.value?(v(),c("div",E,[t("mdui-card",V,[i[7]||(i[7]=p('<div class="toolbar"><div class="toolitem"><mdui-icon-favorite></mdui-icon-favorite><br>我的喜欢 </div><div class="toolitem"><mdui-icon-history></mdui-icon-history><br>历史游览 </div><div class="toolitem"><mdui-icon-bookmarks></mdui-icon-bookmarks><br>我的收藏 </div></div><mdui-divider style="margin:10px;"></mdui-divider>',2)),t("div",M,[t("div",{class:"toolitem",onClick:i[1]||(i[1]=u=>s(o).push("/post/new"))},i[4]||(i[4]=[t("mdui-icon-edit",null,null,-1),t("br",null,null,-1),r("立即创作 ")])),t("div",{class:"toolitem",onClick:i[2]||(i[2]=u=>s(o).push("/post/account"))},i[5]||(i[5]=[t("mdui-icon-dashboard",null,null,-1),t("br",null,null,-1),r("我的文章 ")])),i[6]||(i[6]=t("div",{class:"toolitem"},[t("mdui-icon-auto-awesome-motion"),t("br"),r("我的合集 ")],-1))])]),t("mdui-card",null,[i[9]||(i[9]=t("p",null,[t("span",{style:{"font-size":"1.5em"}},[t("strong",null,"账号管理")])],-1)),i[10]||(i[10]=t("mdui-button",{class:"tool-button",variant:"filled","full-width":""},"修改密码",-1)),t("mdui-dropdown",T,[t("mdui-button",{slot:"trigger",class:"tool-button",variant:"text","full-width":"",onClick:y},i[8]||(i[8]=[t("mdui-icon-logout",{slot:"icon"},null,-1),r(" 退出登录 ")])),t("mdui-menu",null,[t("mdui-menu-item",{onClick:i[3]||(i[3]=u=>s(N)("不是老弟","你还真想删除啊?"))},"删除账号")])])])])):$("",!0),i[11]||(i[11]=p('<mdui-card><p><span style="font-size:1.5em;"><strong>关于本项目</strong></span></p><div style="text-indent:2em;"><p>空</p></div></mdui-card><mdui-card><p><span style="font-size:1.5em;"><strong>开发路线 Road Map</strong></span></p><ul class="road-map"><li>账号登录<div style="flex:1;"></div>已完成✅</li><li>个人信息页面<div style="flex:1;"></div>已完成✅</li><li>文章发布<div style="flex:1;"></div>已完成✅</li><li>文章查看<div style="flex:1;"></div>已完成✅</li><li>主页推荐<div style="flex:1;"></div>已完成✅</li><li>发布评论<div style="flex:1;"></div>已完成✅</li><li>查看评论<div style="flex:1;"></div>已完成✅</li><li>删除评论<div style="flex:1;"></div>已完成✅</li><li>个人主页<div style="flex:1;"></div>已完成✅</li><li>文章编辑<div style="flex:1;"></div>已计划😋</li><li>个人资料编辑<div style="flex:1;"></div>已计划😋</li><li>合集<div style="flex:1;"></div>已计划😋</li><li>合集主页<div style="flex:1;"></div>已计划😋</li><li>评论编辑<div style="flex:1;"></div>未计划😱</li><li></li></ul></mdui-card><mdui-card><p><span style="font-size:1.5em;"><strong>贡献列表</strong></span></p><p>项目规划: <a target="_blank" href="https://www.unknownmp.lol">UnknownMp</a></p><p>起名: <a target="_blank" href="https://youyutou94776.lofter.com">北海</a></p><p>图片提供: <a target="_blank" href="https://qutamadexuexiao.lofter.com">琪琪</a> (网站图标) <a target="_blank" href="https://youyutou94776.lofter.com">北海</a> (默认用户头像) </p><p>其他贡献者:</p><ul><li><a target="_blank" href="https://songtang02582.lofter.com">锤子</a></li><li><a target="_blank" href="https://xinjinjumin386390323485.lofter.com">怜晨</a></li><li><a target="_blank" href="https://qin6151702.lofter.com">兮月</a></li></ul> 还有很多在背后默默支持开发的人 </mdui-card><div style="display:flex;justify-content:center;margin:20px 0 0 0;"> Powered by  <a target="_blank" href="https://cn.vuejs.org/">Vue.js</a> &amp;  <a target="_blank" href="https://www.mdui.org/zh-cn/">MDUI</a> &amp;  <a target="_blank" href="https://www.locyanfrp.cn">LocyanFrp</a></div><br><br><br><br><br><br>',10))],64))}};export{F as default};
