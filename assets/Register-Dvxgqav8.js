import{r as u,o as p,h as b,i as l,w as r,v as d,u as g,F as f,g as w,A as x}from"./vendor-DHGCqLyH.js";import{a as y,m as v,b as k}from"./index-BvAo4jYu.js";const R={style:{padding:"10px",width:"100%"}},B=["disabled"],V=["disabled"],A={class:"bar"},C=["loading"],T={__name:"Register",setup(F){const o=x(),a=u(""),n=u(""),t=u(!1);async function m(){if(t.value)return;if(a.value==""||n.value==""){v("警告","用户名和密码不能为空");return}t.value=!0;const i=await accountRegister(a.value,n.value);t.value=!1,i.status==1?(k("注册成功"),setTimeout(()=>{o.replace("/login")},800)):v("注册失败","未知错误,请联系管理员")}return p(async()=>{}),(i,e)=>(w(),b(f,null,[e[9]||(e[9]=l("div",{class:"container"},[l("img",{class:"avatar",src:y}),l("div",{class:"title"},"注册账号")],-1)),l("mdui-card",R,[r(l("mdui-text-field",{label:"用户名",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),clearable:"",disabled:t.value},null,8,B),[[d,a.value]]),e[5]||(e[5]=l("br",null,null,-1)),e[6]||(e[6]=l("br",null,null,-1)),r(l("mdui-text-field",{label:"密码",type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),"toggle-password":"",clearable:"",disabled:t.value},null,8,V),[[d,n.value]]),e[7]||(e[7]=l("br",null,null,-1)),e[8]||(e[8]=l("br",null,null,-1)),l("div",A,[l("mdui-button",{variant:"tonal",onClick:e[2]||(e[2]=s=>g(o).replace("/login"))},"登录"),e[4]||(e[4]=l("div",{style:{"flex-grow":"1"}},null,-1)),l("mdui-button",{onClick:e[3]||(e[3]=s=>m()),loading:t.value},"注册",8,C)])])],64))}};export{T as default};
